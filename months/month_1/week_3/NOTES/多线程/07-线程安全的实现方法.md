# 线程安全的实现方法
# （1）数据不可变
 在Java当中，一切不可变的对象（immutable）一定是线程安全的。
 
比如使用final修饰的基础数据类型和String类型，一旦被创建就不能改变。 

其实谷歌的开发工具包（guava）中也给我们提供了一些不可变的一类（immutable）

# （2）互斥同步 
互斥同步是常见的一种并发正确性的保障手段。同步是指在多个线程并发访问共享数据时，保证共享数据在同一时刻只被一个线程使用；

互斥是实现同步的一种手段，互斥是因、同步是果，互斥是方法，同步是目的。

在Java中最基本的互斥同步手段，就是synchronized字段，除了synchronized，还可以使用ReentrantLock等工具类实现。

# （3）非阻塞同步
互斥同步也被称为阻塞同步，是一种【悲观的并发策略】，其总是认为，只要不去做正确的同步措施，那就肯定会出现问题，无论共享的数据是否真的出现，都会进行加锁。 会增大时空开销。

还有基于【冲突检测的乐观并发策略】。不管有没有风险，先进行操作，如果没有其他线程征用共享数据，那就直接成功。

如果共享数据确实被征用产生了冲突， 那就再进行补偿策略。常见的补偿策略就是不断的重试，直到出现没有竞争的共享数据为止。

乐观并发策略被称为非阻塞同步，这种措施的代码也常常被称之为【无锁编程】。使用CAS实现。

# （4）无同步方案
使用ThreadLocal。它提供了线程内存储变量的能力，这些变量不同之处在于每一个线程读取的变量是对应的互相独立的。

通过get和set方法就可以得到当前线程对应的值。